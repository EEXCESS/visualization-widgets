<!DOCTYPE html>
<html>

<head>	
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1">
	<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>	
	<style>
	
	/* .screenshot-selector --> #id_58, #id_60, #id_84 */	
	.screenshot-selector { top: -40px; }
		.screenshot-selector label{ display:none; }	
		.screenshot-selector .form-radio-item { width:350px !important; text-align:center; } 
		.screenshot-selector.form-line-active { background-color: inherit !important; }
	
	.form-label-left{
			width:250px !important;
		}

	</style>
</head>
<body>

<!-- JOTFORMS start ------------------------------------------------------- -->

<script src="https://cdn.jotfor.ms/static/prototype.forms.js" type="text/javascript"></script>
<script src="https://cdn.jotfor.ms/static/jotform.forms.js?3.3.13840" type="text/javascript"></script>
<script type="text/javascript">
   JotForm.init(function(){
      JotForm.alterTexts({"alphabetic":"This field can only contain letters","alphanumeric":"This field can only contain letters and numbers.","confirmClearForm":"Are you sure you want to clear the form","confirmEmail":"E-mail does not match","email":"Enter a valid e-mail address","incompleteFields":"There are incomplete required fields. Please complete them.","lessThan":"Your score should be less than","numeric":"This field can only contain numeric values","pleaseWait":"Please wait...","required":"This field is required.","uploadExtensions":"You can only upload following files:","uploadFilesize":"File size cannot be bigger than:"});
	JotForm.clearFieldOnHide="disable";
      FormTranslation.init({"detectUserLanguage":"","firstPageOnly":"","options":"English (US)","originalLanguage":"en","primaryLanguage":"en","saveUserLanguage":"","showStatus":"flag-with-nation","theme":"light-theme","version":"2"});
	JotForm.onSubmissionError="jumpToFirstError";
   });
</script>
<link href="https://cdn.jotfor.ms/static/formCss.css?3.3.13840" rel="stylesheet" type="text/css" />
<link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/css/styles/nova.css?3.3.13840" />
<link type="text/css" media="print" rel="stylesheet" href="https://cdn.jotfor.ms/css/printForm.css?3.3.13840" />
<style type="text/css">
    .form-label-left{
        width:150px !important;
    }
    .form-line{
        padding-top:12px;
        padding-bottom:12px;
    }
    .form-label-right{
        width:150px !important;
    }
    .form-all{
        width:1200px;
        color:Black !important;
        font-family:"Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Verdana, sans-serif;
        font-size:14px;
    }
    .form-radio-item label, .form-checkbox-item label, .form-grading-label, .form-header{
        color: Black;
    }

</style>

<style type="text/css" id="form-designer-style">
    /* Injected CSS Code */
/*PREFERENCES STYLE*/
      .form-label.form-label-auto {
        
      display: inline-block;
      float: left;
      text-align: left;
    
      }
    
      .form-line {
        margin-top: 12px 36px 12px 36px px;
        margin-bottom: 12px 36px 12px 36px px;
      }
    
      .supernova .form-all, .form-all {
        background-color: ;
        border: 1px solid transparent;
      }
    
      .form-all {
        color: Black;
      }
      .form-header-group .form-header {
        color: Black;
      }
      .form-header-group .form-subHeader {
        color: Black;
      }
      .form-label-top,
      .form-label-left,
      .form-label-right,
      .form-html,
      .form-checkbox-item label,
      .form-radio-item label {
        color: Black;
      }
    
      .form-all {
        width: 1200px;
      }
    
      .form-label-left,
      .form-label-right {
        width: 150px
      }
    
      .form-all {
        font-family: 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Verdana, Tahoma, sans-serif, sans-serif;
      }
      .form-all .qq-upload-button,
      .form-all .form-submit-button,
      .form-all .form-submit-reset,
      .form-all .form-submit-print {
        font-family: 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Verdana, Tahoma, sans-serif, sans-serif;
      }
      .form-all .form-pagebreak-back-container,
      .form-all .form-pagebreak-next-container {
        font-family: 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Verdana, Tahoma, sans-serif, sans-serif;
      }
      .form-header-group {
        font-family: 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Verdana, Tahoma, sans-serif, sans-serif;
      }
      .form-label {
        font-family: 'Lucida Grande', 'Lucida Sans Unicode', 'Lucida Sans', Verdana, Tahoma, sans-serif, sans-serif;
      }
    
      .form-all {
        font-size: 14pxpx
      }
      .form-all .qq-upload-button,
      .form-all .qq-upload-button,
      .form-all .form-submit-button,
      .form-all .form-submit-reset,
      .form-all .form-submit-print {
        font-size: 14pxpx
      }
      .form-all .form-pagebreak-back-container,
      .form-all .form-pagebreak-next-container {
        font-size: 14pxpx
      }
    /*PREFERENCES STYLE*//*__INSPECT_SEPERATOR__*/#id_54 { top: -40px; }
#id_54 label{ display:none; }	
#id_54 .form-radio-item { width:350px !important; text-align:center; } 
#id_54.form-line-active { background-color: inherit !important; }

/*iframe { border: 2px dotted red; }*/
.form-label-left{
        width:250px !important;
    }

html,body{height:100%;}#box {width:650px; text-align:left; margin-left:auto; margin-right:auto; margin-top:0px; border: none; padding:1px;}.onLight {padding:2px; width:112px; background:#fff; border:#333 solid; border-width:1px; cursor:pointer;}.onLight:hover div, .offLight {display:block;}.offLight {padding:2px; z-index:200; width:25px; background:#999; border:#333 solid; border-width:1px; position:absolute; top:560px; right:310px; display:none;  cursor:pointer;}.offLight:hover + .lightBox {display:none;}.lightBox {width:100%; height:100%; float:left; position:absolute; z-index:100; background-color:#999999;  top:0px; left:0px; right:0px; display:none; cursor:default;opacity: .80;/*FOR ALL OTHER BROWSERS AND DEVICES*/filter: alpha(opacity=80);/*FOR IE7*/}.content {width: 600px; height: 460px; border: solid 2px #fff; background: #ccc; margin:20px auto; position:absolute; z-index:200; top: 30px; display:none; padding:20px;}#html-100{
width:130px;
padding:5px;
border:1px solid orange;
margin:0px;}
    /* Injected CSS Code */
</style>

<form class="jotform-form" action="https://submit.jotformeu.com/submit/61674959761371/" method="post" name="form_61674959761371" id="61674959761371" accept-charset="utf-8">
  <input type="hidden" name="formID" value="61674959761371" />
  <div class="form-all">
    <link type="text/css" rel="stylesheet" media="all" href="https://cdn.jotfor.ms/wizards/languageWizard/custom-dropdown/css/lang-dd.css?3.3.13840" />
    <div class="cont">
      <input type="text" id="input_language" name="input_language" style="display:none" />
      <div class="language-dd" id="langDd">
        <div class="dd-placeholder lang-emp">
          Language
        </div>
        <ul class="lang-list dn" id="langList">
          <li data-lang="en" class="en">
            English (US)
          </li>
        </ul>
      </div>
    </div>
    <script type="text/javascript" src="https://cdn.jotfor.ms/js/formTranslation.v2.js?3.3.13840"></script>
    <ul class="form-section page-section">
      <li id="cid_4" class="form-input-wide" data-type="control_head">
        <div class="form-header-group">
          <div class="header-text">
            <h2 id="header_4" class="form-header">
              EEXCESS Recommendation Dashboard - Welcome to Day 3
            </h2>
          </div>
        </div>
      </li>
      <li class="form-line jf-required" data-type="control_textbox" id="id_13">
        <label class="form-label form-label-left form-label-auto" id="label_13" for="input_13">
          Email
          <span class="form-required">
            *
          </span>
        </label>
        <div id="cid_13" class="form-input jf-required">
          <input type="text" class=" form-textbox validate[required]" data-type="input-textbox" id="input_13" name="q13_email" size="20" value="" />
        </div>
      </li>
      <li class="form-line" data-type="control_text" id="id_11">
        <div id="cid_11" class="form-input-wide">
          <div id="text_11" class="form-html">
            <p>One day ago, you where researching about the topics "historic buildings", "university campus" and  "addiction".</p>
            <p>On the following pages, please answer the questions about these tasks.</p>
          </div>
        </div>
      </li>
      <li id="cid_16" class="form-input-wide" data-type="control_pagebreak">
        <div class="form-pagebreak">
          <div class="form-pagebreak-back-container">
            <button type="button" class="form-pagebreak-back " id="form-pagebreak-back_16">
              Back
            </button>
          </div>
          <div class="form-pagebreak-next-container">
            <button type="button" class="form-pagebreak-next " id="form-pagebreak-next_16">
              Next
            </button>
          </div>
        </div>
      </li>
    </ul>
    <ul class="form-section page-section" style="display:none;">
      <li class="form-line" data-type="control_text" id="id_47">
        <div id="cid_47" class="form-input-wide">
          <div id="text_47" class="form-html">
            <p>Question to task 1 (about the topic "Historic Buildings"): Which of the following filters did you set?</p>
            <p><iframe  id="session1" src="https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshotsGrid.phtml?sessionId=1&refUsers=1_2&pos=1&styleclass=" width="1100" height="500" alt="" /></iframe></p>
          </div>
        </div>
      </li>
      <li id="cid_46" class="form-input-wide" data-type="control_pagebreak">
        <div class="form-pagebreak">
          <div class="form-pagebreak-back-container">
            <button type="button" class="form-pagebreak-back " id="form-pagebreak-back_46">
              Back
            </button>
          </div>
          <div class="form-pagebreak-next-container">
            <button type="button" class="form-pagebreak-next " id="form-pagebreak-next_46">
              Next
            </button>
          </div>
        </div>
      </li>
    </ul>
    <ul class="form-section page-section" style="display:none;">
      <li class="form-line" data-type="control_text" id="id_48">
        <div id="cid_48" class="form-input-wide">
          <div id="text_48" class="form-html">
            <p>Question to task 1 (about the topic "Historic Buildings"): Which of the following filters did you set?</p>
            <p><iframe  id="session1finalviewOnly" src="https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshots.phtml?sessionId=1&refUsers=1_2&pos=1&style" width="1100" height="500" alt="" /></iframe></p>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_radio" id="id_58">
        <label class="form-label form-label-top" id="label_58" for="input_58"> Task 1 (#3): Which of the following filters did you set? </label>
        <div id="cid_58" class="form-input-wide jf-required">
          <div class="form-multiple-column" data-columnCount="3">
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_58_0" name="q58_taskfiltersequencesradio58" calcValue="Zum Bearbeiten klicken" value="Links" />
              <label id="label_input_58_0" for="input_58_0"> Links </label>
            </span>
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_58_1" name="q58_taskfiltersequencesradio58" value="Mitte" />
              <label id="label_input_58_1" for="input_58_1"> Mitte </label>
            </span>
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_58_2" name="q58_taskfiltersequencesradio58" value="Rechts" />
              <label id="label_input_58_2" for="input_58_2"> Rechts </label>
            </span>
          </div>
        </div>
      </li>
      <li id="cid_45" class="form-input-wide" data-type="control_pagebreak">
        <div class="form-pagebreak">
          <div class="form-pagebreak-back-container">
            <button type="button" class="form-pagebreak-back " id="form-pagebreak-back_45">
              Back
            </button>
          </div>
          <div class="form-pagebreak-next-container">
            <button type="button" class="form-pagebreak-next " id="form-pagebreak-next_45">
              Next
            </button>
          </div>
        </div>
      </li>
    </ul>
    <ul class="form-section page-section" style="display:none;">
      <li class="form-line" data-type="control_text" id="id_49">
        <div id="cid_49" class="form-input-wide">
          <div id="text_49" class="form-html">
            <p>Question to task 2 (about the topic "University Campus"): Which of the following filters did you set?</p>
            <p><iframe  id="session2" src="https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshotsGrid.phtml?sessionId=2&refUsers=1_2&pos=1&styleclass=" width="1100" height="500" alt="" /></iframe></p>
          </div>
        </div>
      </li>
      <li id="cid_51" class="form-input-wide" data-type="control_pagebreak">
        <div class="form-pagebreak">
          <div class="form-pagebreak-back-container">
            <button type="button" class="form-pagebreak-back " id="form-pagebreak-back_51">
              Back
            </button>
          </div>
          <div class="form-pagebreak-next-container">
            <button type="button" class="form-pagebreak-next " id="form-pagebreak-next_51">
              Next
            </button>
          </div>
        </div>
      </li>
    </ul>
    <ul class="form-section page-section" style="display:none;">
      <li class="form-line" data-type="control_text" id="id_50">
        <div id="cid_50" class="form-input-wide">
          <div id="text_50" class="form-html">
            <p>Question to task 2 (about the topic "University Campus"): Which of the following filters did you set?</p>
            <p><iframe  id="session2finalviewOnly" src="https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshots.phtml?sessionId=2&refUsers=1_2&pos=1&style" width="1100" height="500" alt="" /></iframe></p>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_radio" id="id_60">
        <label class="form-label form-label-top" id="label_60" for="input_60"> Task 2 #3: Which of the following filters did you set? </label>
        <div id="cid_60" class="form-input-wide jf-required">
          <div class="form-multiple-column" data-columnCount="3">
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_60_0" name="q60_taskfiltersequencesradio60" calcValue="Zum Bearbeiten klicken" value="Links" />
              <label id="label_input_60_0" for="input_60_0"> Links </label>
            </span>
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_60_1" name="q60_taskfiltersequencesradio60" value="Mitte" />
              <label id="label_input_60_1" for="input_60_1"> Mitte </label>
            </span>
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_60_2" name="q60_taskfiltersequencesradio60" value="Rechts" />
              <label id="label_input_60_2" for="input_60_2"> Rechts </label>
            </span>
          </div>
        </div>
      </li>
      <li id="cid_44" class="form-input-wide" data-type="control_pagebreak">
        <div class="form-pagebreak">
          <div class="form-pagebreak-back-container">
            <button type="button" class="form-pagebreak-back " id="form-pagebreak-back_44">
              Back
            </button>
          </div>
          <div class="form-pagebreak-next-container">
            <button type="button" class="form-pagebreak-next " id="form-pagebreak-next_44">
              Next
            </button>
          </div>
        </div>
      </li>
    </ul>
    <ul class="form-section page-section" style="display:none;">
      <li class="form-line" data-type="control_text" id="id_81">
        <div id="cid_81" class="form-input-wide">
          <div id="text_81" class="form-html">
            <p>Question to task 3 (about the topic "Addiction"): Which of the following filters did you set?</p>
            <p><iframe  id="session3" src="https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshotsGrid.phtml?sessionId=3&refUsers=1_2&pos=1&styleclass=" width="1100" height="500" alt="" /></iframe></p>
          </div>
        </div>
      </li>
      <li id="cid_82" class="form-input-wide" data-type="control_pagebreak">
        <div class="form-pagebreak">
          <div class="form-pagebreak-back-container">
            <button type="button" class="form-pagebreak-back " id="form-pagebreak-back_82">
              Back
            </button>
          </div>
          <div class="form-pagebreak-next-container">
            <button type="button" class="form-pagebreak-next " id="form-pagebreak-next_82">
              Next
            </button>
          </div>
        </div>
      </li>
    </ul>
    <ul class="form-section page-section" style="display:none;">
      <li class="form-line" data-type="control_text" id="id_83">
        <div id="cid_83" class="form-input-wide">
          <div id="text_83" class="form-html">
            <p>Question to task 3 (about the topic "Addiction"): Which of the following filters did you set?</p>
            <p><iframe  id="session3finalviewOnly" src="https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshots.phtml?sessionId=3&refUsers=1_2&pos=1&style" width="1100" height="500" alt="" /></iframe></p>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_radio" id="id_84">
        <label class="form-label form-label-top" id="label_84" for="input_84"> Task 3 #3: Which of the following filters did you set? </label>
        <div id="cid_84" class="form-input-wide jf-required">
          <div class="form-multiple-column" data-columnCount="3">
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_84_0" name="q84_taskfiltersequencesradio84" calcValue="Zum Bearbeiten klicken" value="Links" />
              <label id="label_input_84_0" for="input_84_0"> Links </label>
            </span>
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_84_1" name="q84_taskfiltersequencesradio84" value="Mitte" />
              <label id="label_input_84_1" for="input_84_1"> Mitte </label>
            </span>
            <span class="form-radio-item">
              <span class="dragger-item">
              </span>
              <input type="radio" class="form-radio" id="input_84_2" name="q84_taskfiltersequencesradio84" value="Rechts" />
              <label id="label_input_84_2" for="input_84_2"> Rechts </label>
            </span>
          </div>
        </div>
      </li>
      <li id="cid_26" class="form-input-wide" data-type="control_pagebreak">
        <div class="form-pagebreak">
          <div class="form-pagebreak-back-container">
            <button type="button" class="form-pagebreak-back " id="form-pagebreak-back_26">
              Back
            </button>
          </div>
          <div class="form-pagebreak-next-container">
            <button type="button" class="form-pagebreak-next " id="form-pagebreak-next_26">
              Next
            </button>
          </div>
        </div>
      </li>
    </ul>
    <ul class="form-section page-section" style="display:none;">
      <li class="form-line" data-type="control_text" id="id_55">
        <div id="cid_55" class="form-input-wide">
          <div id="text_55" class="form-html">
            <h2>
              Finished
            </h2>
            <p> </p>
            <p>Thank you very much for your help in this evaluation!</p>
          </div>
        </div>
      </li>
      <li class="form-line" data-type="control_button" id="id_6">
        <div id="cid_6" class="form-input-wide">
          <div style="text-align:left" class="form-buttons-wrapper">
            <button id="input_6" type="submit" class="form-submit-button">
              Send your feedback
            </button>
          </div>
        </div>
      </li>
      <li style="display:none">
        Should be Empty:
        <input type="text" name="website" value="" />
      </li>
    </ul>
  </div>
  <input type="hidden" id="simple_spc" name="simple_spc" value="61674959761371" />
  <script type="text/javascript">
  document.getElementById("si" + "mple" + "_spc").value = "61674959761371-61674959761371";
  </script>
</form>
<script type="text/javascript">JotForm.ownerView=true;</script><script type="text/javascript">JotForm.forwardToEu=true;</script>








<!-- /JOTFORMS end ------------------------------------------------------- -->





<script>
    var questionnnaireDay = 3;


    var isRequiredOn = true;
    var showScreenshotBaseUrl = 'https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/';
    var showScreenshotUrl = 'showscreenshots.phtml?';
    var showScreenshotUrlGrid = 'showscreenshotsGrid.phtml?';

    // reload iFrame
    var $onNextClicked_nextIframe, userName, sessionId;
    jQuery('iframe').attr('src','about:blank');
    jQuery('.form-pagebreak-next').on('click', function(){
        var $nextPage = jQuery(this).closest('.form-section.page-section').next();
        var $nextIframe = $nextPage.find('iframe:not(#customFieldFrame_64):not(#customFieldFrame_86)'); // customFieldFrame_64 = youtube
        
        var selectionPageOpening = false;
        if ($nextIframe.length > 0){
            selectionPageOpening = true;
            $nextIframe.attr( 'src', function ( i, oldSource ) { 
                // eg: https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshots.phtml?sessionId=1&refUsers=1_2&pos=1&css=filtersOnly
                //if (oldSource.indexOf('timestamp') < 0)
                //	oldSource += '&timestamp' + new Date().getTime();
                var url = getIframeUrl($nextIframe.attr('id'));
                return url; 
            });
            $onNextClicked_nextIframe = $nextIframe;
            // Set Text:
            $nextPage.find('.form-line label').each(function(){
                if (jQuery(this).text().indexOf("I could remember the text/micro/main filters") > -1){
                    var questionText = "text filters";
                    if (prefixAsChars[sessionId-1] == 'M')
                        questionText = "main visualisations";
                    else if (prefixAsChars[sessionId-1] == 'V')
                        questionText = "micro visualisation filters";
                    jQuery(this).text('I could remember the ' + questionText);
                }
            });
            $nextPage.find('.form-line label').each(function(){
                if (jQuery(this).text().indexOf("I like the design of the text/micro/main filters") > -1){
                    var questionText = "text filters";
                    if (prefixAsChars[sessionId-1] == 'M')
                        questionText = "main visualisations";
                    else if (prefixAsChars[sessionId-1] == 'V')
                        questionText = "micro visualisation filters";
                    jQuery(this).text('I like the design of the ' + questionText);
                }
            });
        }
        saveStartedData(selectionPageOpening, $nextPage);

        var $currentIframe = jQuery(this).closest('.form-section.page-section').find('iframe');
        if ($currentIframe.length > 0){
            var src = $currentIframe.attr('src');
            if (src && src.indexOf(showScreenshotUrlGrid) != -1){
                // showing grid, need to call save
                //$currentIframe[0].saveData();
                var win = $currentIframe[0].contentWindow
                win.postMessage("saveData", "*");
            }
        }
    });

    function listener(event){
        if (event.data.action == "setHeight" && $onNextClicked_nextIframe && $onNextClicked_nextIframe.length > 0 ){
            console.log('set Height !');
            $onNextClicked_nextIframe.css('height', event.data.height);
        }
    }
    if (window.addEventListener){
        addEventListener("message", listener, false)
    } else {
        attachEvent("onmessage", listener)
    }
    var getUrlParameter = function getUrlParameter(sParam) {
        var sPageURL = decodeURIComponent(window.location.search.substring(1)), sURLVariables = sPageURL.split('&'), sParameterName, i;
        for (i = 0; i < sURLVariables.length; i++) {
            sParameterName = sURLVariables[i].split('=');
            if (sParameterName[0] === sParam) {
                return sParameterName[1] === undefined ? true : sParameterName[1];
            }
        }
    };

    //https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/showscreenshots.phtml?sessionId=1&refUsers=1_2&pos=1&styleclass=filtersOnly
    // css=filtersOnly
    // sessionId=1
    // refUsers=1_2
    // &pos=1&
    var prefixAsChars = ['', '', '', '', ''];
    function getIframeUrl(id){
        sessionId = null;
        if (!id || id.length < 8)
            return;
            
        // Example: session1filtersOnly
        sessionId = id.substring(7,8) * 1;
        var filtersOnly = id.substring(8).length >= 11 && id.substring(8) == 'filtersOnly';
        var finalviewOnly = id.substring(8).length >= 11 && id.substring(8) == 'finalviewOnly';

        if (finalviewOnly && prefixAsChars[sessionId-1] && prefixAsChars[sessionId-1] == 'M'){
            finalviewOnly=false;
            filtersOnly=true;
        }

        var url = showScreenshotBaseUrl + showScreenshotUrlGrid;
        if (filtersOnly || finalviewOnly){
            url = showScreenshotBaseUrl + showScreenshotUrl;
        }
        url += 'sessionId=' + sessionId;
        var refUsers = '1_2'; // V
        if (prefixAsChars[sessionId-1] == 'T')			
            refUsers = '3_4';
        else if (prefixAsChars[sessionId-1] == 'M')			
            refUsers = '5_6';
        url += '&refUsers=' + refUsers;
        var pos = 0;
        if (sessionId == 1 && finalviewOnly)
            pos = 2
        else if (sessionId == 2 && finalviewOnly)
            pos = 0
        else if (sessionId == 3 && finalviewOnly)
            pos = 1
        // different Positioning on day 2
        if (sessionId == 1 && finalviewOnly && questionnnaireDay == 2)
            pos = 1
        else if (sessionId == 2 && finalviewOnly && questionnnaireDay == 2)
            pos = 2
        else if (sessionId == 3 && finalviewOnly && questionnnaireDay == 2)
            pos = 0
        // different Positioning on day 3
        if (sessionId == 1 && finalviewOnly && questionnnaireDay == 3)
            pos = 0
        else if (sessionId == 2 && finalviewOnly && questionnnaireDay == 3)
            pos = 1
        else if (sessionId == 3 && finalviewOnly && questionnnaireDay == 3)
            pos = 2
        url += '&pos=' + pos;
        if (filtersOnly)
            url += '&css=filtersOnly';
        else if (finalviewOnly)
            url += '&css=finalviewOnly';
        if (userName)
            url += '&userName=' + userName;
        url += '&questionnnaireDay=' + questionnnaireDay + '&timestamp' + new Date().getTime();		
        return url;
    }

    var usernameLoaded = function (pUserName) {
        //alert(pUserName);
        userName = pUserName; // setting it global.
        var parts = pUserName.split('_');
        var userNamePrefix = undefined;
        if (parts.length <= 1)
            return;

        userNamePrefix = parts[0];
        if (userNamePrefix && userNamePrefix.length >= 3){
            prefixAsChars = userNamePrefix.split('');
        }
        jQuery('#cid_133 img').attr('src', 'readability-filter-Task4-' + (prefixAsChars[3] == 'T' ? 'T' : 'V') + '.JPG');
        jQuery('#cid_134 img').attr('src', 'readability-filter-Task5-' + (prefixAsChars[4] == 'T' ? 'T' : 'V') + '.JPG');
    }
    
    var EVAL_SERVER = "https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/";
    var userNameFromUrl = getUrlParameter('userName');
    if (userNameFromUrl && questionnnaireDay != 1){
        usernameLoaded(userNameFromUrl);
    } else {
        jQuery.ajax({
            type: "GET",
            url: EVAL_SERVER + "eval/getEvalData.php",
            data: {},
            success: function(eval_server_data){ usernameLoaded(eval_server_data.user); }
        });
    }
    if (!isRequiredOn){
        jQuery('.validate\\[required\\]').removeClass('validate[required]');
    }
    jQuery(document).on('keydown', function(e){
      if (e.keyCode == 39) // cursor right
        jQuery('.form-section.page-section:visible .form-pagebreak-next').click()
      else if (e.keyCode == 37) // cursor left
        jQuery('.form-section.page-section:visible .form-pagebreak-back').click()    
        if (e.keyCode == 81 && e.ctrlKey) { // ctrl + q
            jQuery('.validate\\[required\\]').removeClass('validate[required]');
            console.warn('required removed');
        }
    });    
    function saveStartedData(selectionPageOpening, $nextPage){
        var nextPagesTitle = undefined;
        var $firstRow = $nextPage.find('li:first()');
        nextPagesTitle = $firstRow.find('h1, h2, h3').first().text();
        if (!nextPagesTitle)
            nextPagesTitle = $firstRow.find('label').first().text();
        if (!nextPagesTitle)
            nextPagesTitle = $firstRow.text();
        nextPagesTitle = jQuery.trim(nextPagesTitle).replace(/\n/g, ' ').replace(/  */g, ' ');
        //console.log(nextPagesTitle);

        var data = {selectionPageOpened: selectionPageOpening, userName: userName, session: sessionId, timestamp: new Date(), questionnnaireDay: questionnnaireDay, nextPagesTitle: nextPagesTitle };
        jQuery.ajax({
            type:'POST',
            url: 'https://ext250.know-center.tugraz.at/dashboard/screenshot_rep/screenshotserver/eval/saveUsersSelection.php',
            data: JSON.stringify(data),
            success: function(){
            }
        });
    }




    jQuery('#id_58, #id_60, #id_84').addClass('screenshot-selector');
    //<iframe width="560" height="315" src="https://www.youtube.com/embed/IKwEexY_Ay4" frameborder="0" allowfullscreen></iframe>
    jQuery('#customFieldFrame_64').attr('src', 'https://www.youtube.com/embed/IKwEexY_Ay4')	

    //});
</script>
</body>
</html>